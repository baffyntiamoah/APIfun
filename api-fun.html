<!DOCTYPE html>
<html>
     <head>
     	<meta charset="utf-8" />
     	<meta name="viewport" content="width=device-width,initial-scale=1, shrink-to-fit=no" />
     	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
     	<style>
     		.cont{
     			text-align: center;
     		}
     		h1{
     			font-color: red;
     		}
     		body{
     			background-color: yellow;
     			color:red;
     		}
     		button{
     			background-color: green;
     			color:white;

     		}
     		div{
     			text-align: center;
     		}
     	</style>

     	
     </head>
     <body>
     	   
  
            <div class="cont">
             <h1>Names of People in TV Show Industry</h1>
             <button type="button" id="btn" class="btn btn-primary"> Click to Go!</button>
            <ul id="list"></ul>
            </div>
            <div id="res"></div>
            <script>
        let btn = document.getElementById("btn");
  
        btn.addEventListener("click", buttonclickhandler);
  
        function buttonclickhandler() {

            let people = prompt("Enter Name of person in a tv show( can be first name only)");
                var xhr = new XMLHttpRequest();

                
                xhr.onreadystatechange = function () {

                    
                    

                    
                    if (xhr.status == 200 && xhr.readyState == 4) {
                        // if request is successful
                        let finals = document.querySelector("#res");
                        finals.innerHTML = "";
                        console.log(JSON.parse(xhr.responseText));

                        JSON.parse(xhr.responseText).forEach((object) => {
                            let Divd = document.createElement('div');
                            //prints out corresponding names from the data into the div in html
                            Divd.innerHTML = `<p>${object.person.name}`

                            finals.appendChild(Divd);
                        })
                    }
                    //if request is not complete dont run 
                    if (xhr.readyState !== 4) return;

                };

                //
                // Gets name of people from the API JSON
                // 
                xhr.open('GET', ` https://api.tvmaze.com/search/people?q=${people}`, true);
                xhr.send();
        }

    </script>
  
  
     	  

     </body>
</html>